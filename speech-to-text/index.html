<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/speech-to-text/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Speech To Text in the Browser"/><link rel="apple-touch-icon" href="/speech-to-text/favicon.ico"/><link rel="manifest" href="/speech-to-text/manifest.json"/><title>Speech To Text</title><script type="application/javascript" src="vosk.js"></script><script>async function init(){const e=document.getElementById("recognition-result"),t=document.getElementById("partial");t.textContent="Loading...";const n=new MessageChannel,o=await Vosk.createModel("/speech-to-text/model.tar.gz");o.registerPort(n.port1);const i=new o.KaldiRecognizer(48e3);i.setWords(!0),i.on("result",(n=>{const o=n.result,i=document.createElement("span");i.textContent=`${o.text} `,e.insertBefore(i,t)})),i.on("partialresult",(e=>{const n=e.result.partial;t.textContent=n})),t.textContent="Ready";const r=await navigator.mediaDevices.getUserMedia({video:!1,audio:{echoCancellation:!0,noiseSuppression:!0,channelCount:1,sampleRate:48e3}}),a=new AudioContext;await a.audioWorklet.addModule("/speech-to-text/recognizer-processor.js");const s=new AudioWorkletNode(a,"recognizer-processor",{channelCount:1,numberOfInputs:1,numberOfOutputs:1});s.port.postMessage({action:"init",recognizerId:i.id},[n.port2]),s.connect(a.destination);a.createMediaStreamSource(r).connect(s)}async function startListening(){const e=document.getElementById("trigger");e.disabled=!0,e.style.backgroundColor="red",e.textContent="Now Listening and Transcribing...",await init()}</script><script defer="defer" src="/speech-to-text/static/js/main.255797d6.js"></script><link href="/speech-to-text/static/css/main.6de74fbf.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div>Speech Recognizer Demo v14<div id="wrapper"><button id="trigger" type="button" onclick="startListening()">Start Recognizing Speech</button><div id="recognition-result"><span id="partial"></span></div></div></body></html>