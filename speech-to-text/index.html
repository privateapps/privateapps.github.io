<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/speech-to-text/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Speech To Text in the Browser"/><link rel="apple-touch-icon" href="/speech-to-text/favicon.ico"/><link rel="manifest" href="/speech-to-text/manifest.json"/><title>Speech To Text</title><script type="application/javascript" src="vosk.js"></script><script>let model;const audioContext=new AudioContext;async function init(){const e=document.getElementById("recognition-result"),t=document.getElementById("partial");t.textContent="Loading...";window.location.hostname.includes("localhost")?(model=await Vosk.createModel("model.tar.gz"),await audioContext.audioWorklet.addModule("recognizer-processor.js")):(model=await Vosk.createModel("/speech-to-text/model.tar.gz"),await audioContext.audioWorklet.addModule("/speech-to-text/recognizer-processor.js"));const o=new MessageChannel;model.registerPort(o.port1);const n=new model.KaldiRecognizer(48e3);n.setWords(!0),n.on("result",(t=>{const o=t.result;e.value+=` ${o.text}`})),n.on("partialresult",(e=>{const o=e.result.partial;t.textContent=o})),t.textContent="Ready";const a=await navigator.mediaDevices.getUserMedia({video:!1,audio:{echoCancellation:!0,noiseSuppression:!0,channelCount:1,sampleRate:48e3}}),i=new AudioWorkletNode(audioContext,"recognizer-processor",{channelCount:1,numberOfInputs:1,numberOfOutputs:1});i.port.postMessage({action:"init",recognizerId:n.id},[o.port2]),i.connect(audioContext.destination);audioContext.createMediaStreamSource(a).connect(i)}async function startListening(){const e=document.getElementById("trigger");e.disabled=!0,e.style.backgroundColor="red",e.textContent="Now Listening and Transcribing...",await init()}function clearTextarea(){document.getElementById("recognition-result").value=""}</script><script defer="defer" src="/speech-to-text/static/js/main.255797d6.js"></script><link href="/speech-to-text/static/css/main.e52d6ea5.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div>Speech Recognizer Demo v17<div id="wrapper"><button id="trigger" type="button" onclick="startListening()">Start Recognizing Speech</button> <span id="partial"></span> <textarea id="recognition-result"></textarea><div id="bottom-button-row"><button id="share" type="button" onclick="startListening()">Share</button> <button id="clear" type="button" onclick="clearTextarea()">Clear</button></div></div></body></html>